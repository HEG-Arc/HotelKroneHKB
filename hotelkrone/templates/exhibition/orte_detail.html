{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
      <title>Hotel Krone: Homepage</title>
      <link rel="stylesheet" href="{% static 'css/master-hk-2.css' %}">
      <link href="https://fonts.googleapis.com/css?family=Gravitas+One&display=swap" rel="stylesheet">
      <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/couture" type="text/css"/>
      <script src="{% static 'js/view360.panoviewer.pkgd.min.js' %}"></script>

      <script src="{% static 'js/three.min.js' %}"></script>
      <script src="{% static 'js/panolens.min.js' %}"></script>
  </head>
  <body>

      <div id="main">
        <div id="corner-top-left">
          <img src="{% static 'media/corner-tl.png' %}" width="100%" height="100%" alt="">
        </div>
        <div id="top-hotel">
          <div id="title-hotel">
            <span class="title">Hotel Krone</span>
          </div>
        </div>
        <div id="corner-top-right">
          <img src="{% static 'media/corner-tr.png' %}" width="100%" height="100%" alt="">
        </div>


        <div id="middle">
            <div id="mar-left">
              <div class="txtleft"><a href="{{ object.previous.get_absolute_url }}">{{ object.previous.name }}</a></div>
            </div>

            <div id="key">

                <div id="keycase">
                  <table class="keyholder">
                    <tr>
                      <td><p>Hotel Krone</p></td>
                      <td><p>Hotel Krone</p></td>
                      <td><p>Hotel Krone</p></td>
                    </tr>
                    <tr>
                      <td><p>Hotel Krone</p></td>
                      <td><p>Hotel Krone</p></td>
                      <td><p>Hotel Krone</p></td>
                    </tr>
                  </div>
                </table><br>
                <table class="keyholder">
                  <tr>
                    <td><p>Hotel Krone</p></td>
                    <td><p>Hotel Krone</p></td>
                    <td><p>Hotel Krone</p></td>
                  </tr>
                  <tr>
                    <td><p>Hotel Krone</p></td>
                    <td><p>Hotel Krone</p></td>
                    <td><p>Hotel Krone</p></td>
                  </tr>
                </table>
              </div>
              <div id="room"></div>
            </div>

            <div id="mar-right">
              <div class="txtright"><a href="{{ object.next.get_absolute_url }}">{{ object.next.name }}</a></div>
            </div>
        </div>

        <div id="bottom">
          <div id="corner-down-left">
            <img src="{% static 'media/corner-bl.png' %}" width="100%" height="100%" alt="">
          </div>

          <div id="corner-down-right">
            <img src="{% static 'media/corner-br.png' %}" width="100%" height="100%" alt="">
          </div>

          <div id="ground">
            <div class="names">
              {% for student in students %}
              <a href="{{ student.get_absolute_url }}">{{ student.first_name }} {{ student.last_name }}</a>
              {% endfor %}
            </div>
          </div>
        </div>

      </div>

      {% for poi in object.poi_set.all %}
      <div id="media{{ poi.pk }}" style="display:none; background-color: blue;width: 450px;">
        {% if poi.media.image %}
          <img src="{{ poi.media.image.url }}" height="200px"><br><i>{{ poi.media.legend }}</i>
        {% else %}
            {{ poi.media.html_embed|safe }}
        {% endif %}
        <div class="title">{{ poi.media.name }}</div>
        <div class="text">{{ poi.media.description }}</div>
      </div>
      {% endfor %}



      <script>

          const panorama = new PANOLENS.ImagePanorama( '{{ object.background.url }}' );

          {% for poi in object.poi_set.all %}
          infospot{{ poi.pk }} = new PANOLENS.Infospot( 400, '{{ poi.poi_image.url }}' );
          infospot{{ poi.pk }}.position.set( {{ poi.position_x }}, {{ poi.position_x }}, -5000 );
          infospot{{ poi.pk }}.addHoverElement( document.getElementById( 'media{{ poi.pk }}' ), 200 );
          panorama.add( infospot{{ poi.pk }} );
          {% endfor %}

          const viewer = new PANOLENS.Viewer({container: document.getElementById("room"), controlBar: false});
          viewer.add( panorama );
      </script>

  </body>
</html>
